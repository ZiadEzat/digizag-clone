(function(){"use strict";var appModules=[];var application=angular.module("fn.translate",appModules);application.provider("$translate",function(){var self=this;this.emptyTranslationReplacement="_________";var determineBlackoutText=function(text){return text};var stripDynamicKeyPrefix=function(key){var tokens=key.split(".");if(tokens.length){return tokens.pop()}return key};var getReqs=["$rootScope","$q","$sce"];getReqs.push(function($rootScope,$q,$sce){var determineKeyPrefix=function(key){return key};function Translate(key,params){var translated=_.getDeepMember(Translate.$scope,determineKeyPrefix(key));if(!translated){var text=determineBlackoutText(stripDynamicKeyPrefix(key)||self.emptyTranslationReplacement);return $sce.trustAsHtml(text)}if(_.isEmpty(params)){return $sce.trustAsHtml(determineBlackoutText(translated))}return $sce.trustAsHtml(determineBlackoutText(_.format(translated,params)))}Translate.$scope=$rootScope.$new(true);Translate.initialize=function(refObject){var dfd=$q.defer();_.extend(this.$scope,refObject);dfd.resolve();return dfd.promise};return Translate});this.$get=getReqs;return self});application.filter("translate",function($translate,$rootScope){var translateFilter=function(key,params){return $translate(key,params)};translateFilter.$stateful=true;return translateFilter})})({},function(){"use strict";return this}());